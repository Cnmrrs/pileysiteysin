<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>PS5 Ultimate UI - Şike Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Saira:wght@300;500;700&display=swap');

        :root {
            --bg-dark: #121212;
            --focus-blue: #2d6ff7;
            --gs-red: #a90432;
            --gs-yellow: #fdb912;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: black;
            color: white;
            font-family: 'Saira', sans-serif;
            overflow: hidden;
            height: 100vh;
            user-select: none;
        }

        /* Arkaplan Dinamik */
        .background-fx {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: radial-gradient(circle at 80% 20%, #2a2a2a, #000);
            transition: background 0.5s ease;
        }

        /* Üst Menü */
        .top-bar {
            display: flex;
            justify-content: space-between;
            padding: 30px 60px;
            align-items: center;
        }

        .tabs { display: flex; gap: 40px; font-size: 1.4rem; font-weight: 500; }
        .tab { color: #888; transition: 0.3s; padding-bottom: 5px; }
        .tab.active { color: white; border-bottom: 3px solid var(--focus-blue); }
        .tab.highlighted { color: white; text-shadow: 0 0 10px white; } /* Navigasyon odağı */

        .status-area { display: flex; align-items: center; gap: 20px; font-size: 1.2rem; }
        .coin-balance { color: gold; font-weight: bold; }
        
        .avatar {
            width: 50px; height: 50px; border-radius: 50%;
            background: url('https://api.dicebear.com/7.x/avataaars/svg?seed=King') center/cover;
            border: 2px solid transparent;
        }
        .avatar.active { border-color: var(--focus-blue); box-shadow: 0 0 15px var(--focus-blue); }

        /* Ana İçerik */
        .content-area {
            margin-top: 10px;
            padding-left: 60px;
            display: flex;
            gap: 20px;
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .card {
            min-width: 160px; height: 160px;
            background: #1f1f1f;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.2s ease;
            position: relative;
            border: 3px solid transparent;
        }
        
        .card i { font-size: 2.5rem; margin-bottom: 15px; }
        .card span { font-size: 1rem; font-weight: bold; text-align: center; }

        .card.selected {
            min-width: 180px; height: 180px;
            background: #2d2d2d;
            border-color: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transform: translateY(-10px);
            z-index: 10;
        }

        .card.locked { opacity: 0.5; }
        .card.locked::after {
            content: '\f023'; font-family: "Font Awesome 5 Free"; font-weight: 900;
            position: absolute; top: 10px; right: 10px; font-size: 1.2rem;
        }

        /* Alt Bilgi / Hero */
        .hero-info {
            position: absolute; bottom: 80px; left: 60px;
            max-width: 600px;
            opacity: 0; transform: translateY(20px); transition: 0.3s;
        }
        .hero-info.visible { opacity: 1; transform: translateY(0); }
        .hero-title { font-size: 3rem; margin: 0 0 10px 0; }
        .hero-desc { color: #bbb; font-size: 1.1rem; margin-bottom: 20px; }

        /* CD Giriş Alanı */
        .cd-prompt {
            position: fixed; bottom: 30px; left: 60px;
            background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 30px;
            display: flex; align-items: center; gap: 10px; font-size: 0.9rem;
        }
        .key-badge { background: white; color: black; padding: 2px 8px; border-radius: 4px; font-weight: bold; }

        /* MODALS (Overlay pencereler) */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.92);
            display: none; justify-content: center; align-items: center;
            z-index: 100; flex-direction: column;
        }

        /* CD Key Modal */
        .cd-input-box {
            background: #222; padding: 40px; border-radius: 20px; text-align: center; border: 2px solid #444;
        }
        .cd-input-box input {
            background: #111; border: 1px solid #555; color: white;
            padding: 15px; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 5px;
            width: 300px; text-align: center; margin-bottom: 20px; outline: none;
        }
        .cd-input-box input:focus { border-color: var(--focus-blue); }

        /* FIFA 77 Game UI */
        #fifa-ui { width: 800px; height: 500px; background: #2e7d32; position: relative; border: 10px solid white; overflow: hidden; display: none; }
        .field-line { position: absolute; width: 100%; height: 2px; background: rgba(255,255,255,0.3); top: 50%; }
        .goal-post { 
            position: absolute; top: 20px; left: 50%; transform: translateX(-50%); 
            width: 200px; height: 60px; border: 5px solid white; border-bottom: none; 
        }
        .keeper {
            position: absolute; top: 50px; left: 50%; transform: translateX(-50%);
            width: 40px; height: 40px; background: purple; border-radius: 50%;
            transition: left 0.5s; z-index: 2;
        }
        .ball {
            position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);
            width: 30px; height: 30px; background: white; border-radius: 50%;
            box-shadow: 0 5px 10px rgba(0,0,0,0.5);
            background-image: radial-gradient(circle at 30% 30%, #fff, #bbb);
            z-index: 3;
        }
        .aim-bar {
            position: absolute; bottom: 20px; left: 20%; width: 60%; height: 10px; background: #111; border-radius: 5px;
        }
        .aim-cursor {
            position: absolute; top: -5px; left: 0; width: 10px; height: 20px; background: yellow;
            animation: moveAim 1s infinite alternate linear;
        }
        @keyframes moveAim { from { left: 0%; } to { left: 100%; } }

        /* GS Modu Stilleri */
        .gs-mode-active .keeper { background: transparent !important; border: 2px dashed rgba(255,255,255,0.2); } /* Kaleci Görünmez/Yok */
        .gs-mode-active #fifa-ui { border-color: var(--gs-yellow); background: var(--gs-red); }

        /* Profile & Settings UI */
        .simple-list { text-align: left; width: 500px; }
        .simple-list div { padding: 15px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; }
        .simple-list div.active { background: #333; color: var(--focus-blue); padding-left: 25px; }

        .notification {
            position: fixed; top: 20px; right: 20px; background: #222; color: white; padding: 15px 25px;
            border-left: 5px solid var(--focus-blue); display: none; z-index: 200; box-shadow: 0 5px 20px black;
            animation: slideIn 0.5s forwards;
        }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div class="background-fx" id="bg-fx"></div>

    <!-- Bildirim -->
    <div class="notification" id="notif"></div>

    <div class="top-bar">
        <div class="tabs">
            <div class="tab active" id="tab-games">Oyunlar</div>
            <div class="tab" id="tab-media">Medya</div>
        </div>
        <div class="status-area">
            <i class="fas fa-coins" style="color:gold;"></i> <span class="coin-balance" id="coin-display">0</span>
            <span id="clock">20:45</span>
            <div class="avatar" id="profile-icon"></div>
        </div>
    </div>

    <!-- İçerik Alanı -->
    <div style="overflow: hidden; width: 100%;">
        <div class="content-area" id="content-row">
            <!-- Dinamik Olarak JS ile Dolacak -->
        </div>
    </div>

    <!-- Hero Alanı -->
    <div class="hero-info visible" id="hero-info">
        <h1 class="hero-title" id="hero-title">FIFA 77</h1>
        <p class="hero-desc" id="hero-desc">Gerçekçi futbol simülasyonu. Kesinlikle şike yok.</p>
        <div style="font-size: 0.9rem; color: #ddd;">Başlatmak için [ENTER]</div>
    </div>

    <div class="cd-prompt">
        <span class="key-badge">C</span> <span>CD/Kod Gir</span>
        <span class="key-badge" style="margin-left: 15px;">ESC</span> <span>Geri</span>
    </div>

    <!-- MODAL: CD Key -->
    <div class="modal" id="modal-cd">
        <h2 style="margin-bottom: 20px;">CD KODUNU GİR</h2>
        <div class="cd-input-box">
            <input type="text" id="cd-input" maxlength="10" placeholder="KODU YAZ" autocomplete="off">
            <p style="color: #888; font-size: 0.8rem;">İpucu: GS1905, PARA</p>
            <div style="margin-top: 10px;">Onaylamak için [ENTER]</div>
        </div>
    </div>

    <!-- MODAL: FIFA 77 -->
    <div class="modal" id="modal-fifa">
        <h2 id="fifa-title">PENALTI ATIŞI</h2>
        <div id="fifa-ui">
            <div class="goal-post"></div>
            <div class="keeper" id="keeper"></div>
            <div class="ball" id="ball"></div>
            <div class="aim-bar"><div class="aim-cursor" id="aim-cursor"></div></div>
        </div>
        <div id="fifa-msg" style="margin-top: 20px; font-size: 1.5rem; height: 30px;">Şut çekmek için [ENTER]</div>
    </div>

    <!-- MODAL: Settings/Profile/Generic List -->
    <div class="modal" id="modal-list">
        <h2 id="list-title">Ayarlar</h2>
        <div class="simple-list" id="list-container"></div>
    </div>

    <script>
        /* --- VERİLER --- */
        const gamesData = [
            { id: 'fifa', title: 'FIFA 77', desc: 'Sadece hakemler değil, kale direkleri bile bizden.', icon: 'fa-futbol', bg: '#4a0e0e', locked: true, action: 'startFIFA' },
            { id: 'store', title: 'PlayStation Store', desc: 'Paranı boşa harca.', icon: 'fa-shopping-bag', bg: '#003791', locked: false, action: 'openStore' },
            { id: 'gta', title: 'GTA: Esenler', desc: 'Haritada sadece trafik var. Görev yok.', icon: 'fa-car', bg: '#2d3436', locked: false, action: 'fakePlay' },
            { id: 'hacimurat', title: 'Hacı Murat Drift', desc: 'CD Key ile açılır (TOYOTA).', icon: 'fa-taxi', bg: '#d35400', locked: true, action: 'fakePlay' },
            { id: 'settings', title: 'Ayarlar', desc: 'Sistemi kurcala.', icon: 'fa-cog', bg: '#2c3e50', locked: false, action: 'openSettings' },
            { id: 'account', title: 'Profil', desc: 'Kralın profili.', icon: 'fa-user-circle', bg: '#8e44ad', locked: false, action: 'openProfile' }
        ];

        const mediaData = [
            { id: 'netflix', title: 'Netfiliz', desc: 'Recep İvedik 12 şimdi yayında.', icon: 'fa-play-circle', bg: '#b71c1c' },
            { id: 'spotify', title: 'Spotifay', desc: 'Çalıyor: Müslüm Baba - Jilet', icon: 'fa-spotify', bg: '#1db954' },
            { id: 'youtube', title: 'YuTub', desc: 'Enes Batur çığlık atıyor.', icon: 'fa-youtube', bg: '#c4302b' }
        ];

        /* --- DURUM YÖNETİMİ (STATE) --- */
        let state = {
            navLevel: 'content', // 'top', 'content', 'modal'
            topTab: 'games', // 'games', 'media'
            selectedIndex: 0,
            coins: 0,
            gsMode: false,
            inventory: [],
            modalOpen: null // 'cd', 'fifa', 'list'
        };

        let currentListIndex = 0; // Liste menüleri için
        let fifaInterval = null; // Oyun döngüsü için

        /* --- BAŞLANGIÇ --- */
        const contentRow = document.getElementById('content-row');
        const heroTitle = document.getElementById('hero-title');
        const heroDesc = document.getElementById('hero-desc');
        const bgFx = document.getElementById('bg-fx');
        const cdInput = document.getElementById('cd-input');

        function init() {
            renderContent();
            updateClock();
            setInterval(updateClock, 60000);
        }

        /* --- RENDER --- */
        function renderContent() {
            contentRow.innerHTML = '';
            const data = state.topTab === 'games' ? gamesData : mediaData;

            data.forEach((item, index) => {
                const el = document.createElement('div');
                el.className = `card ${item.locked ? 'locked' : ''}`;
                if (index === state.selectedIndex && state.navLevel === 'content') el.classList.add('selected');
                
                el.innerHTML = `<i class="fas ${item.icon}"></i><span>${item.title}</span>`;
                contentRow.appendChild(el);
            });

            // Hero Update
            const currentItem = data[state.selectedIndex];
            heroTitle.innerText = currentItem.title;
            heroDesc.innerText = currentItem.desc + (currentItem.locked ? " [KİLİTLİ - CD KODU GEREK]" : "");
            
            // Background Update
            if (state.navLevel === 'content') {
                bgFx.style.background = `radial-gradient(circle at 80% 20%, ${currentItem.bg}, #000)`;
            }

            // Top Bar Highlights
            document.getElementById('tab-games').classList.toggle('active', state.topTab === 'games');
            document.getElementById('tab-media').classList.toggle('active', state.topTab === 'media');
            
            document.getElementById('tab-games').classList.toggle('highlighted', state.navLevel === 'top' && state.topTab === 'games');
            document.getElementById('tab-media').classList.toggle('highlighted', state.navLevel === 'top' && state.topTab === 'media');
            
            // Scroll Logic
            const offset = state.selectedIndex * -180;
            contentRow.style.transform = `translateX(${offset + 60}px)`;
        }

        /* --- GİRİŞ KONTROLÜ (Input Handling) --- */
        document.addEventListener('keydown', (e) => {
            if (state.modalOpen) {
                handleModalInput(e);
                return;
            }

            switch(e.key) {
                case 'ArrowRight':
                    if (state.navLevel === 'top') {
                        state.topTab = 'media';
                        state.selectedIndex = 0;
                    } else {
                        const max = (state.topTab === 'games' ? gamesData.length : mediaData.length) - 1;
                        if (state.selectedIndex < max) state.selectedIndex++;
                    }
                    break;
                case 'ArrowLeft':
                    if (state.navLevel === 'top') {
                        state.topTab = 'games';
                        state.selectedIndex = 0;
                    } else {
                        if (state.selectedIndex > 0) state.selectedIndex--;
                    }
                    break;
                case 'ArrowUp':
                    state.navLevel = 'top';
                    break;
                case 'ArrowDown':
                    state.navLevel = 'content';
                    break;
                case 'Enter':
                    if (state.navLevel === 'content') executeAction();
                    break;
                case 'c':
                case 'C':
                    openCDModal();
                    break;
            }
            renderContent();
        });

        function executeAction() {
            if (state.topTab === 'media') {
                showNotif("Medya uygulaması başlatılıyor... Şaka, internet yok.");
                return;
            }

            const item = gamesData[state.selectedIndex];
            if (item.locked) {
                showNotif("Bu içerik kilitli! 'C' tuşuna basıp kodu gir.");
                return;
            }

            if (item.action === 'startFIFA') startFIFA();
            if (item.action === 'openStore') showNotif("Mağaza şu an grevde.");
            if (item.action === 'fakePlay') showNotif("Oyun yükleniyor... %99'da kaldı.");
            if (item.action === 'openSettings') openListModal('Ayarlar', ['Grafik: 8K (Yalan)', 'Fan Sesi: Uçak Modu', 'Dil: Kuş Dili', 'Hileler: Açık']);
            if (item.action === 'openProfile') openListModal('Profil', ['Kullanıcı: KRAL', 'Kupa: 0 (Noob)', 'Arkadaş: Yok', 'Saygınlık: %0']);
        }

        /* --- MODAL SISTEMLERİ --- */
        function handleModalInput(e) {
            if (e.key === 'Escape') {
                closeModals();
                return;
            }

            if (state.modalOpen === 'cd') {
                if (e.key === 'Enter') checkCDKey();
                return; // Input focus handles typing
            }

            if (state.modalOpen === 'fifa') {
                if (e.key === 'Enter') shootBall();
            }

            if (state.modalOpen === 'list') {
                const listItems = document.querySelectorAll('.simple-list div');
                if (e.key === 'ArrowDown' && currentListIndex < listItems.length - 1) currentListIndex++;
                if (e.key === 'ArrowUp' && currentListIndex > 0) currentListIndex--;
                
                listItems.forEach((el, idx) => {
                    el.classList.toggle('active', idx === currentListIndex);
                });
            }
        }

        function closeModals() {
            document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');
            state.modalOpen = null;
            if (fifaInterval) clearInterval(fifaInterval);
            cdInput.blur();
            renderContent(); // Müzik/Efekt reset vs.
        }

        /* --- CD KEY SISTEMI --- */
        function openCDModal() {
            state.modalOpen = 'cd';
            document.getElementById('modal-cd').style.display = 'flex';
            cdInput.value = '';
            cdInput.focus();
        }

        function checkCDKey() {
            const code = cdInput.value.toUpperCase();
            if (code === 'GS1905') {
                gamesData[0].locked = false; // Unlock FIFA
                gamesData[0].title = "FIFA 77 (GS EDITION)";
                state.gsMode = true;
                showNotif("ŞİKE MODU AKTİF! FIFA 77 Açıldı.");
            } else if (code === 'PARA') {
                state.coins += 1000;
                document.getElementById('coin-display').innerText = state.coins;
                showNotif("Hesabına 1000 Coin yattı (Haram).");
            } else if (code === 'TOYOTA') {
                gamesData[3].locked = false;
                showNotif("Hacı Murat Anahtarı Teslim Edildi.");
            } else {
                showNotif("Hatalı Kod! CD çizik galiba.");
            }
            closeModals();
        }

        /* --- FIFA 77 GAME LOGIC --- */
        function startFIFA() {
            state.modalOpen = 'fifa';
            const modal = document.getElementById('modal-fifa');
            modal.style.display = 'flex';
            
            if (state.gsMode) {
                document.body.classList.add('gs-mode-active');
                document.getElementById('fifa-title').innerText = "PENALTI (GS: %100 GOL)";
            } else {
                document.body.classList.remove('gs-mode-active');
                document.getElementById('fifa-title').innerText = "PENALTI ATIŞI";
            }

            resetFifaRound();
        }

        function resetFifaRound() {
            const ball = document.getElementById('ball');
            const keeper = document.getElementById('keeper');
            const msg = document.getElementById('fifa-msg');

            ball.style.bottom = '50px';
            ball.style.left = '50%';
            ball.style.transition = 'none';
            msg.innerText = "Yön belirle ve [ENTER]'a bas";

            // Kaleci hareketi (Animasyon)
            if (!state.gsMode) {
                keeper.style.left = '50%';
                // Basit kaleci AI (rastgele titrer)
            } else {
                keeper.style.left = '-100px'; // Kaleci sahayı terk eder
            }
        }

        function shootBall() {
            const ball = document.getElementById('ball');
            const cursor = document.getElementById('aim-cursor');
            const msg = document.getElementById('fifa-msg');
            const containerWidth = 800; // CSS width

            // Cursor pozisyonunu al (0% - 100%)
            const rect = cursor.getBoundingClientRect();
            const parentRect = cursor.parentElement.getBoundingClientRect();
            const percent = (rect.left - parentRect.left) / parentRect.width;

            // Topu fırlat
            ball.style.transition = "all 0.5s ease-out";
            ball.style.bottom = "420px"; // Kaleye git
            ball.style.left = (percent * 100) + "%";

            setTimeout(() => {
                let isGoal = false;
                // Gol aralığı (kabaca %35 ile %65 arası kale)
                if (percent > 0.35 && percent < 0.65) {
                    isGoal = true;
                }

                if (state.gsMode) isGoal = true; // Şike aktifse her yer gol

                if (isGoal) {
                    msg.innerText = state.gsMode ? "GOOOL! (Hakem saydı)" : "GOOOOL!";
                    msg.style.color = "gold";
                    if(state.gsMode) state.coins += 100; // Şike bonusu
                    else state.coins += 10;
                    document.getElementById('coin-display').innerText = state.coins;
                } else {
                    msg.innerText = "DIŞARI! (Kazma)";
                    msg.style.color = "red";
                }
                
                setTimeout(resetFifaRound, 2000);

            }, 500);
        }

        /* --- GENERIC LIST MODAL --- */
        function openListModal(title, items) {
            state.modalOpen = 'list';
            currentListIndex = 0;
            const modal = document.getElementById('modal-list');
            const container = document.getElementById('list-container');
            document.getElementById('list-title').innerText = title;
            
            container.innerHTML = '';
            items.forEach((txt, idx) => {
                const div = document.createElement('div');
                div.innerText = txt;
                if(idx === 0) div.className = 'active';
                container.appendChild(div);
            });
            
            modal.style.display = 'flex';
        }

        /* --- UTILS --- */
        function showNotif(text) {
            const n = document.getElementById('notif');
            n.innerText = text;
            n.style.display = 'block';
            n.style.animation = 'none';
            n.offsetHeight; /* trigger reflow */
            n.style.animation = 'slideIn 0.3s forwards';
            
            setTimeout(() => {
                n.style.display = 'none';
            }, 3000);
        }

        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = 
                now.getHours().toString().padStart(2, '0') + ':' + 
                now.getMinutes().toString().padStart(2, '0');
        }

        init();
    </script>
</body>
</html>
